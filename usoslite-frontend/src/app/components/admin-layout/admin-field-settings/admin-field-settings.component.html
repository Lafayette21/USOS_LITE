<div id="field-table">
    <table>
        <thead>
        <tr>
            <th>Field index</th>
            <th>Field Name</th>
            <th colspan="3">Operations</th>
        </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let field of fields; let i = index">
                <tr>
                    <td>{{i+1}}</td>
                    <td>{{field.name}}</td>
                    <td><button (click)="deleteField(field.id)">Delete Field</button></td>
                    <td><button (click)="showStudents(i)">Show students</button></td>
                    <td><button (click)="showFieldCourses(i)">Show Courses</button></td>
                </tr>
                <div *ngIf="coursesVisible[i]">
                    <app-fields-courses [fieldId]="field.id"></app-fields-courses>
                </div>
                <div *ngIf="studentsVisible[i]">
                    <app-fields-students [fieldId]="field.id"></app-fields-students>
                </div>
            </ng-container>
            <tr *ngIf="fieldCreationFormVisible">
                <td></td>
                <td><input type="text" name="courseName" required [(ngModel)]="newField.name"></td>
                <td><button (click)="addNewField()">Add new course</button></td>
            </tr>
        <tr>
            <td><button (click)="showFieldCreationForm()">{{createFieldButtonText}}</button></td>
        </tr>
        </tbody>
    </table>
</div>
